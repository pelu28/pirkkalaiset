<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Add new prey</title>
<script>
function sendData(){
	//Create a new Javascript object
	var ehdokkaat=new Object();
	ehdokkaat.ehdokasnro=document.getElementById("ehdokasnro").value;
	ehdokkaat.puolue=document.getElementById("puolue").value;
	ehdokkaat.etunimi=document.getElementById("etunimi").value;
	ehdokkaat.sukunimi=document.getElementById("sukunimi").value;
	ehdokkaat.postinumero=document.getElementById("postinumero").value;
	ehdokkaat.postitoimipaikka=document.getElementById("postitoimipaikka").value;
	ehdokkaat.lahiosoite=document.getElementById("lahiosoite").value;
	ehdokkaat.miksi=document.getElementById("miksi").value;
	
	var jsonPrey=JSON.stringify(prey);
	var xhttp = new XMLHttpRequest();
	
	xhttp.onreadystatechange = function() {
	  if (this.readyState == 4 && this.status == 200) {
	   document.getElementById("responseView").innerHTML = this.responseText;
	   var returned=JSON.parse(this.responseText);
	   document.getElementById("inparts").innerHTML="ID="+returned.id+" Ehdokasnro="+returned.ehdokasnro+" Puolue="+returned.puolue+" Etunimi="+returned.etunimi+" Sukunimi="+returned.sukunimi+" Postinumero="+returned.postinumero+" Postitoimipaikka="+returned.postitoimipaikka+" Lahiosoite="+returned.lahiosoite+" Miksi="+returned.miksi;
	  }
	};
	
	xhttp.open("POST","./rest/ehdokkaatservice/addehdokas",true);
	xhttp.setRequestHeader("Content-type","application/json");
	xhttp.send(jsonPrey);
 
	
}
</script>
</head>

<body>
<h2>Fill in - this form uses AJAX</h2>
<form action="#" method='post' onsubmit='return false;'>
Ehdokasnro: <input id='ehdokasnro' type='text' name='ehdokasnro' value='' placeholder='uusi ehdokasnro'><br>
Puolue: <input id='puolue' type='text' name='puolue' value='' placeholder='uusi puolue'><br>
Etunimi: <input id='etunimi' type='text' name='etunimi' value='' placeholder='uusi etunimi'><br>
Sukunimi: <input id='sukunimi' type='text' name='sukunimi' value='' placeholder='uusi sukunimi'><br>
Postinumero: <input id='postinumero' type='text' name='postinumero' value='' placeholder='uusi postinumero'><br>
Postitoimipaikka: <input id='postitoimipaikka' type='text' name='postitoimipaikka' value='' placeholder='Uusi postitoimipaikka'><br>
Lahiosoite: <input id='lahiosoite' type='text' name='lahiosoite' value='' placeholder='uusi lahiosoite'><br>
Miksi: <input id='miksi' type='text' name='miksi' value='' placeholder='Uusi perustelu'><br>
<input type='button' name='ok' value='Send' onclick='sendData();'><br>
</form>
<p id='responseView'>The response will be shown here!
</p>
<p id='inparts'>The response in parts will be shown here!
</p>
<h2>Fill in - this form uses FormParameters</h2>
<form action="rest/ehdokkaatservice/addehdokas" method='post'>
Ehdokasnro: <input id='ehdokasnro' type='text' name='ehdokasnro' value='' placeholder='uusi ehdokasnro'><br>
Puolue: <input id='puolue' type='text' name='puolue' value='' placeholder='uusi puolue'><br>
Etunimi: <input id='etunimi' type='text' name='etunimi' value='' placeholder='uusi etunimi'><br>
Sukunimi: <input id='sukunimi' type='text' name='sukunimi' value='' placeholder='uusi sukunimi'><br>
Postinumero: <input id='postinumero' type='text' name='postinumero' value='' placeholder='uusi postinumero'><br>
Postitoimipaikka: <input id='postitoimipaikka' type='text' name='postitoimipaikka' value='' placeholder='Uusi postitoimipaikka'><br>
Lahiosoite: <input id='lahiosoite' type='text' name='lahiosoite' value='' placeholder='uusi lahiosoite'><br>
Miksi: <input id='miksi' type='text' name='miksi' value='' placeholder='Uusi perustelu'><br>
<input type='submit' name='ok' value='Send'><br>
</form>
<a href="ehdokkaat.jsp">Katso lista ehdokkaista</a>
<a href="rest/ehdokkaatservice/allsdp">SDP</a> 
<a href="rest/ehdokkaatservice/all">RKP</a>
<a href="url">PS</a> 
<a href="url">Kok.</a>
<a href="url">SDP</a> 
<a href="url">Vihr.</a>
<a href="./addpuolueandehdokas">Luo puolueen ja kaksi ehdokasta</a> 
<a href="./addehdokasnotpuolue">Luo ehdokkaan mutta ei puoluetta</a>
</body>
</html>

